<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clever | Portal</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    /* ... your existing CSS ... */

    /* ... other styles ... */

    /* Animation for showing/hiding the input area */
    .input-container-animation {
      animation: slideInOut 0.3s ease-in-out;
    }

    @keyframes slideInOut {
      0% {
        opacity: 0;
        transform: scaleY(0);
      }
      100% {
        opacity: 1;
        transform: scaleY(1);
      }
    }
  </style>
  <link rel="stylesheet" href="dark-mode.css" id="dark-mode-stylesheet">
</head>
<body>
  <header style="text-align: center; padding: 20px;">
    <h1 class="rotating-text" style="padding: 20px; margin: 0;"></h1>
  </header>

  <div class="input-container">
    <input type="text" id="faviconInput" placeholder="Enter favicon URL">
    <button class="button button-favicon button-apply" onclick="changeFavicon()">✅</button>
  </div>

  <div class="input-container">
    <input type="text" id="titleInput" placeholder="Enter new title">
    <button class="button button-title button-apply" onclick="changeTitle()">✅</button>
  </div>

  <main style="position: relative; z-index: 1; margin-top: 50px; text-align: center;">
    <iframe id="originalWebsiteFrame" src="https://flow-works.me" frameborder="0" style="width: 100%; height: 800px;"></iframe>
    <iframe id="spotifyFrame" src="" frameborder="0" class="hidden" style="width: 100%; height: 800px;"></iframe>
  </main>

  <button class="toggle-dark-mode" onclick="toggleDarkMode()">Toggle Dark Mode</button>

  <script>
    function changeFavicon() {
      const faviconInput = document.getElementById("faviconInput");
      const faviconURL = faviconInput.value;
      if (faviconURL.trim() !== "") {
        const faviconLink = document.querySelector("link[rel*='icon']");
        faviconLink.href = faviconURL;
      }
    }

    function changeTitle() {
      const titleInput = document.getElementById("titleInput");
      const newTitle = titleInput.value;
      if (newTitle.trim() !== "") {
        document.title = newTitle;
      }
    }

    function toggleInputArea() {
      const inputContainer = document.getElementById("inputContainer");
      const isVisible = inputContainer.classList.contains("input-container-animation");
      
      if (isVisible) {
        inputContainer.classList.remove("input-container-animation");
        setTimeout(() => {
          inputContainer.classList.add("hidden");
        }, 300); // Wait for animation to complete before hiding
      } else {
        inputContainer.classList.remove("hidden");
        setTimeout(() => {
          inputContainer.classList.add("input-container-animation");
        }, 0); // Add animation class immediately and let animation take over
      }
    }

    function toggleFaviconTitleArea() {
      const inputContainers = document.querySelectorAll(".input-container");
      inputContainers.forEach(container => {
        container.classList.toggle("hidden");
      });
    }

    function toggleDarkMode() {
      const body = document.body;
      const darkModeStylesheet = document.getElementById("dark-mode-stylesheet");

      if (body.classList.contains("dark-mode")) {
        body.classList.remove("dark-mode");
        darkModeStylesheet.href = "dark-mode.css";
      } else {
        body.classList.add("dark-mode");
        darkModeStylesheet.href = ""; // Disable the dark mode stylesheet
      }
    }
  </script>
</body>
</html>
